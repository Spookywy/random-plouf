import { ImageResponse } from "next/og";

export const runtime = "edge";

export async function GET() {
  const fontData = await fetch(
    new URL(
      "../../../assets/fonts/roboto/Roboto-ExtraBold.ttf",
      import.meta.url
    )
  ).then((res) => res.arrayBuffer());

  return new ImageResponse(
    (
      <div
        style={{
          background: "#171717",
          width: "100%",
          height: "100%",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          gap: 32,
        }}
      >
        <svg
          width="409"
          height="387"
          viewBox="0 0 818 774"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M386.962 724.392C548.013 724.392 682.712 611.563 716.325 460.639C685.206 450.611 662.692 421.416 662.692 386.962C662.692 352.508 685.206 323.312 716.325 313.285C682.712 162.36 548.013 49.5311 386.962 49.5311C339.916 49.5311 295.12 59.1588 254.435 76.5515C254.868 79.8661 255.091 83.2466 255.091 86.6793C255.091 129.422 220.441 164.072 177.699 164.072C164.704 164.072 152.457 160.869 141.705 155.21C84.566 215.657 49.5311 297.218 49.5311 386.962C49.5311 573.319 200.604 724.392 386.962 724.392ZM386.962 773.923C575.884 773.923 733.184 638.538 767.137 459.494C796.538 448.523 817.476 420.188 817.476 386.962C817.476 353.735 796.538 325.4 767.137 314.429C733.184 135.386 575.883 0 386.962 0C332.06 0 279.828 11.4336 232.518 32.0496C218.506 17.9886 199.118 9.28699 177.699 9.28699C134.956 9.28699 100.307 43.9367 100.307 86.6793C100.307 98.3358 102.884 109.39 107.499 119.304C40.9122 188.809 0 283.108 0 386.962C0 600.675 173.249 773.923 386.962 773.923ZM387.971 576.025C492.833 576.025 577.84 491.018 577.84 386.156C577.84 281.294 492.833 196.287 387.971 196.287C283.109 196.287 198.102 281.294 198.102 386.156C198.102 428.157 211.739 466.973 234.829 498.418C246.899 490.639 261.271 486.125 276.698 486.125C319.441 486.125 354.09 520.775 354.09 563.517C354.09 566.696 353.899 569.83 353.526 572.909C364.697 574.956 376.209 576.025 387.971 576.025ZM332.631 617.006C350.387 621.247 368.916 623.492 387.971 623.492C519.048 623.492 625.307 517.233 625.307 386.156C625.307 255.078 519.048 148.819 387.971 148.819C256.893 148.819 150.634 255.078 150.634 386.156C150.634 443.148 170.722 495.448 204.204 536.362C201.037 544.811 199.306 553.962 199.306 563.517C199.306 606.26 233.955 640.91 276.698 640.91C298.691 640.91 318.541 631.736 332.631 617.006Z"
            fill="#8B5CF6"
          />
        </svg>
        <div
          style={{
            display: "flex",
            flexDirection: "column",
            gap: 16,
          }}
        >
          <p
            style={{
              color: "#8B5CF6",
              fontSize: 82,
              margin: 0,
            }}
          >
            RanDOM Plouf
          </p>
          <p style={{ fontSize: 40, color: "white", margin: 0 }}>
            Run draw & create teams
          </p>
        </div>
      </div>
    ),
    {
      width: 1200,
      height: 600,
      fonts: [
        {
          name: "Roboto",
          data: fontData,
          style: "normal",
        },
      ],
    }
  );
}
